"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[428],{5428:(R,g,s)=>{s.r(g),s.d(g,{AuthModule:()=>O});var f=s(9808),m=s(1083),h=s(262),b=s(515),o=s(5e3),v=s(384),n=s(3075),x=s(5315);const _=function(){return{width:"50vw",color:"red"}},C=function(){return{"960px":"75vw","640px":"100vw"}};let w=(()=>{class i{constructor(r,e,t){this.AuthService=r,this.fb=e,this.router=t,this.miFormulario=this.fb.group({email:[""],password:[""],password_confirm:[""]}),this.display=!1}showDialog(){this.display=!0}closeDialog(){this.display=!1}login(){var r,e;this.display&&this.closeDialog(),console.log(this.miFormulario.getRawValue());let t=new FormData;t.append("email",null===(r=this.miFormulario.value)||void 0===r?void 0:r.email),t.append("password",null===(e=this.miFormulario.value)||void 0===e?void 0:e.password),this.AuthService.login(t).pipe((0,h.K)(l=>(console.log(l),this.showDialog(),b.E))).subscribe(l=>{console.log(l),this.router.navigate(["/inicio"])})}}return i.\u0275fac=function(r){return new(r||i)(o.Y36(v.e),o.Y36(n.qu),o.Y36(m.F0))},i.\u0275cmp=o.Xpm({type:i,selectors:[["app-login"]],decls:10,vars:7,consts:[["header","Inicio de sesi\xf3n fallido","position","top",3,"visible","breakpoints","visibleChange"],[1,"login"],["method","post",1,"custom-form",3,"formGroup"],["type","email","formControlName","email","name","email","placeholder","Email"],["type","password","formControlName","password","name","password","placeholder","Password","required","required"],["type","submit",3,"click"]],template:function(r,e){1&r&&(o.TgZ(0,"p-dialog",0),o.NdJ("visibleChange",function(l){return e.display=l}),o._uU(1," Usuario o contrase\xf1a incorrectos!\n"),o.qZA(),o.TgZ(2,"div",1)(3,"form",2)(4,"h1"),o._uU(5,"Login"),o.qZA(),o._UZ(6,"input",3)(7,"input",4),o.TgZ(8,"button",5),o.NdJ("click",function(){return e.login()}),o._uU(9,"Log in"),o.qZA()()()),2&r&&(o.Akn(o.DdM(5,_)),o.Q6J("visible",e.display)("breakpoints",o.DdM(6,C)),o.xp6(3),o.Q6J("formGroup",e.miFormulario))},directives:[x.V,n._Y,n.JL,n.sg,n.Fj,n.JJ,n.u,n.Q7],styles:["*[_ngcontent-%COMP%]{box-sizing:border-box}html[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{background:#ecf0f3}h1[_ngcontent-%COMP%]{margin:0;padding:0}.custom-form[_ngcontent-%COMP%]{min-width:300px;max-width:60%;background:rgba(255,255,255,.15);padding:2rem 3rem;margin:auto;border-radius:2.5rem;background-color:#ecf0f3;box-shadow:13px 13px 20px #cbced1,-13px -13px 20px #fff;color:#000;margin-top:10rem}.custom-form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{display:block;margin:2rem 0;width:100%;border-radius:.5rem;padding:1rem;border:none;box-shadow:inset -5px -5px 15px #fffc,inset 5px 5px 10px #0000001a;border:0 none;background:#ebf5fc}.custom-form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{text-transform:uppercase;letter-spacing:.15em;border:none;font-size:.875rem;color:#fff;font-weight:700;background-color:#bcd8c1;width:100%;display:block;padding:.875rem 1rem;border-radius:1.5rem;box-shadow:3px 3px 8px #b1b1b1,-3px -3px 8px #fff;cursor:pointer}"]}),i})();var M=s(520),Z=s(8975),y=s(9024);function F(i,a){if(1&i&&(o.TgZ(0,"small",11),o._uU(1),o.qZA()),2&i){const r=o.oxw();o.xp6(1),o.hij("",r.nombreUserMsg," ")}}function A(i,a){if(1&i&&(o.TgZ(0,"small",11),o._uU(1),o.qZA()),2&i){const r=o.oxw();o.xp6(1),o.hij("",r.apellidosMsg," ")}}function I(i,a){if(1&i&&(o.TgZ(0,"small",11),o._uU(1),o.qZA()),2&i){const r=o.oxw();o.xp6(1),o.hij("",r.emailMsg," ")}}function q(i,a){if(1&i&&(o.TgZ(0,"small",11),o._uU(1),o.qZA()),2&i){const r=o.oxw();o.xp6(1),o.hij("",r.nombreEquipoMsg," ")}}function k(i,a){if(1&i&&(o.TgZ(0,"small",11),o._uU(1),o.qZA()),2&i){const r=o.oxw();o.xp6(1),o.hij("",r.ligaMsg," ")}}function T(i,a){if(1&i&&(o.TgZ(0,"small",11),o._uU(1),o.qZA()),2&i){const r=o.oxw();o.xp6(1),o.hij("",r.passwordMsg," ")}}function U(i,a){if(1&i&&(o.TgZ(0,"small",11),o._uU(1),o.qZA()),2&i){const r=o.oxw();o.xp6(1),o.hij("",r.passwordConfirmMsg," ")}}const N=[{path:"",children:[{path:"login",component:w},{path:"register",component:(()=>{class i{constructor(r,e,t,l,d){this.AuthService=r,this.fb=e,this.validatorService=t,this.emailValidator=l,this.router=d,this.miFormulario=this.fb.group({nombre_user:["",[n.kI.required,n.kI.pattern("[a-zA-Z\xc0-\xd6\xd8-\xf6\xf8-\xff]+.?(( |-)[a-zA-Z\xc0-\xd6\xd8-\xf6\xf8-\xff]+.?)*")]],apellidos:["",[n.kI.required,n.kI.pattern("[a-zA-Z\xc0-\xd6\xd8-\xf6\xf8-\xff]+.?(( |-)[a-zA-Z\xc0-\xd6\xd8-\xf6\xf8-\xff]+.?)*")]],email:["",[n.kI.required,n.kI.pattern("[a-z0-9_-]+(.[_a-z0-9-]+)*@([_a-z0-9-]+.)+([a-z]{2}|aero|asia|arpa|biz|cat|com|coop|edu|gov|info|int|jobs|mil|mobi|museum|name|net|org|pro|tel|travel|xxx)")],[this.emailValidator]],password:["",[n.kI.required,n.kI.minLength(6)]],password_confirm:["",[n.kI.required,n.kI.minLength(6)]],nombre_equipo:["",[n.kI.required,n.kI.pattern("[a-zA-Z\xc0-\xd6\xd8-\xf6\xf8-\xff]+.?(( |-)[a-zA-Z\xc0-\xd6\xd8-\xf6\xf8-\xff]+.?)*")]],liga:["",[n.kI.required,n.kI.pattern("[a-zA-Z\xc0-\xd6\xd8-\xf6\xf8-\xff]+.?(( |-)[a-zA-Z\xc0-\xd6\xd8-\xf6\xf8-\xff]+.?)*")]]},{validators:[this.validatorService.camposIguales("password","password_confirm")]})}get emailMsg(){var r;const e=null===(r=this.miFormulario.get("email"))||void 0===r?void 0:r.errors;return(null==e?void 0:e.required)?"Introduce un email":(null==e?void 0:e.pattern)?"Introduce un formato de email v\xe1lido":(null==e?void 0:e.enUso)?"El email ya est\xe1 en uso":""}get nombreUserMsg(){var r;const e=null===(r=this.miFormulario.get("nombre_user"))||void 0===r?void 0:r.errors;return(null==e?void 0:e.required)?"Introduce un nombre":(null==e?void 0:e.pattern)?"Introduce un nombre v\xe1lido":""}get apellidosMsg(){var r;const e=null===(r=this.miFormulario.get("apellidos"))||void 0===r?void 0:r.errors;return(null==e?void 0:e.required)?"Introduce los apellidos":(null==e?void 0:e.pattern)?"Introduce unos apellidos v\xe1lidos":(null==e?void 0:e.enUso)?"El email ya est\xe1 en uso":""}get nombreEquipoMsg(){var r;const e=null===(r=this.miFormulario.get("nombre_equipo"))||void 0===r?void 0:r.errors;return(null==e?void 0:e.required)?"Introduce un nombre de equipo":(null==e?void 0:e.pattern)?"Introduce un nombre de equipo v\xe1lido":""}get passwordMsg(){var r;const e=null===(r=this.miFormulario.get("password"))||void 0===r?void 0:r.errors;return(null==e?void 0:e.required)?"Introduce una contrase\xf1a":(null==e?void 0:e.minlength)?"La contrase\xf1a debe tener m\xednimo 6 car\xe1cteres":""}get passwordConfirmMsg(){var r;const e=null===(r=this.miFormulario.get("password_confirm"))||void 0===r?void 0:r.errors;return(null==e?void 0:e.required)?"Introduce una contrase\xf1a":(null==e?void 0:e.minlength)?"La contrase\xf1a debe tener m\xednimo 6 car\xe1cteres":(null==e?void 0:e.noIguales)?"Las contrase\xf1as no coinciden":""}get ligaMsg(){var r;const e=null===(r=this.miFormulario.get("liga"))||void 0===r?void 0:r.errors;return(null==e?void 0:e.required)?"Introduce un nombre de liga":(null==e?void 0:e.pattern)?"Introduce un nombre de liga v\xe1lido":""}error(r){var e,t,l,d;return(null===(t=null===(e=this.miFormulario.controls)||void 0===e?void 0:e[r])||void 0===t?void 0:t.errors)&&(null===(d=null===(l=this.miFormulario.controls)||void 0===l?void 0:l[r])||void 0===d?void 0:d.touched)}register(){var r,e,t,l,d,p,c;if(this.miFormulario.invalid)return void this.miFormulario.markAllAsTouched();(new M.WM).append("Content-Type","multipart/form-data");let u=new FormData;u.append("nombre_user",null===(r=this.miFormulario.value)||void 0===r?void 0:r.nombre_user),u.append("apellidos",null===(e=this.miFormulario.value)||void 0===e?void 0:e.apellidos),u.append("email",null===(t=this.miFormulario.value)||void 0===t?void 0:t.email),u.append("password",null===(l=this.miFormulario.value)||void 0===l?void 0:l.password),u.append("password_confirm",null===(d=this.miFormulario.value)||void 0===d?void 0:d.password_confirm),u.append("nombre",null===(p=this.miFormulario.value)||void 0===p?void 0:p.nombre_equipo),u.append("liga",null===(c=this.miFormulario.value)||void 0===c?void 0:c.liga),this.AuthService.register(u).subscribe(P=>{console.log(P),this.router.navigate(["/auth/login"])})}}return i.\u0275fac=function(r){return new(r||i)(o.Y36(v.e),o.Y36(n.qu),o.Y36(Z.o),o.Y36(y.e),o.Y36(m.F0))},i.\u0275cmp=o.Xpm({type:i,selectors:[["app-register"]],decls:20,vars:8,consts:[[1,"register"],["method","post",1,"custom-form",3,"formGroup"],["type","text","formControlName","nombre_user","name","nombre_user","placeholder","Nombre"],["class","text-danger","id","",4,"ngIf"],["type","text","formControlName","apellidos","name","apellidos","placeholder","Apellidos"],["type","email","formControlName","email","name","email","placeholder","Email"],["type","text","formControlName","nombre_equipo","name","nombre_equipo","placeholder","Nombre de tu equipo"],["type","text","formControlName","liga","name","liga","placeholder","Nombre de la liga de tu equipo"],["type","password","formControlName","password","name","password","placeholder","Contrase\xf1a","required","required"],["type","password","formControlName","password_confirm","name","password_confirm","placeholder","Repite la contrase\xf1a","required","required"],["type","submit",3,"click"],["id","",1,"text-danger"]],template:function(r,e){1&r&&(o.TgZ(0,"div",0)(1,"form",1)(2,"h1"),o._uU(3,"Register"),o.qZA(),o._UZ(4,"input",2),o.YNc(5,F,2,1,"small",3),o._UZ(6,"input",4),o.YNc(7,A,2,1,"small",3),o._UZ(8,"input",5),o.YNc(9,I,2,1,"small",3),o._UZ(10,"input",6),o.YNc(11,q,2,1,"small",3),o._UZ(12,"input",7),o.YNc(13,k,2,1,"small",3),o._UZ(14,"input",8),o.YNc(15,T,2,1,"small",3),o._UZ(16,"input",9),o.YNc(17,U,2,1,"small",3),o.TgZ(18,"button",10),o.NdJ("click",function(){return e.register()}),o._uU(19,"Register"),o.qZA()()()),2&r&&(o.xp6(1),o.Q6J("formGroup",e.miFormulario),o.xp6(4),o.Q6J("ngIf",e.error("nombre_user")),o.xp6(2),o.Q6J("ngIf",e.error("apellidos")),o.xp6(2),o.Q6J("ngIf",e.error("email")),o.xp6(2),o.Q6J("ngIf",e.error("nombre_equipo")),o.xp6(2),o.Q6J("ngIf",e.error("liga")),o.xp6(2),o.Q6J("ngIf",e.error("password")),o.xp6(2),o.Q6J("ngIf",e.error("password_confirm")))},directives:[n._Y,n.JL,n.sg,n.Fj,n.JJ,n.u,f.O5,n.Q7],styles:["*[_ngcontent-%COMP%]{box-sizing:border-box}html[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{background:#ecf0f3}h1[_ngcontent-%COMP%]{margin:0;padding:0}.custom-form[_ngcontent-%COMP%]{min-width:300px;max-width:60%;background:rgba(255,255,255,.15);padding:2rem 3rem;margin:auto;border-radius:2.5rem;background-color:#ecf0f3;box-shadow:13px 13px 20px #cbced1,-13px -13px 20px #fff;color:#000;margin-top:7rem;margin-bottom:5rem}.custom-form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{display:block;margin:1rem 0;width:100%;border-radius:.5rem;padding:1rem;border:none;box-shadow:inset -5px -5px 15px #fffc,inset 5px 5px 10px #0000001a;border:0 none;background:#ebf5fc}.custom-form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{text-transform:uppercase;letter-spacing:.15em;border:none;font-size:.875rem;color:#fff;font-weight:700;background-color:#bcd8c1;width:100%;margin:1rem 0;display:block;padding:.875rem 1rem;border-radius:1.5rem;box-shadow:3px 3px 8px #b1b1b1,-3px -3px 8px #fff;cursor:pointer}small[_ngcontent-%COMP%]{margin:-30px 0}"]}),i})()},{path:"**",redirectTo:"login"}]}];let J=(()=>{class i{}return i.\u0275fac=function(r){return new(r||i)},i.\u0275mod=o.oAB({type:i}),i.\u0275inj=o.cJS({imports:[[m.Bz.forChild(N)],m.Bz]}),i})();var z=s(6559);let O=(()=>{class i{}return i.\u0275fac=function(r){return new(r||i)},i.\u0275mod=o.oAB({type:i}),i.\u0275inj=o.cJS({imports:[[f.ez,J,z.g,n.u5,n.UX]]}),i})()}}]);